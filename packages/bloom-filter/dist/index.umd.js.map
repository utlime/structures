{"version":3,"file":"index.umd.js","sources":["../src/BitSet.ts","../src/BloomFilter.ts"],"sourcesContent":["type Bit = 0 | 1;\n\nexport class BitSet {\n  private readonly map: Map<number, Bit> = new Map();\n  private readonly size: number;\n\n  constructor(size: number) {\n    this.size = size;\n  }\n\n  set(position: number, value: Bit) {\n    this.map.set(position % this.size, value);\n  }\n\n  get(position: number): Bit {\n    return this.map.get(position % this.size) || 0;\n  }\n\n  toString(): string {\n    const str = [];\n\n    for (let i = 0; i < this.size; i++) {\n      str.push(this.get(i));\n    }\n\n    return str.join('');\n  }\n}\n","import { BitSet } from './BitSet';\nimport { IBloomFilter } from './IBloomFilter';\n\nexport class BloomFilter<T> implements IBloomFilter<T> {\n  private readonly bitSet: BitSet;\n\n  private readonly hash: Array<(item: T) => number>;\n\n  constructor(size: number, hash: Array<(item: T) => number>) {\n    this.bitSet = new BitSet(size);\n    this.hash = hash;\n  }\n\n  add(item: T): void {\n    this.hash.forEach(hash => {\n      this.bitSet.set(hash(item), 1);\n    });\n  }\n\n  has(item: T): boolean {\n    return !this.hash.some(hash => this.bitSet.get(hash(item)) === 0);\n  }\n}\n"],"names":[],"mappings":";;;;;;QAEa,MAAM;MAIjB,YAAY,IAAY;UAHP,QAAG,GAAqB,IAAI,GAAG,EAAE,CAAC;UAIjD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;OAClB;MAED,GAAG,CAAC,QAAgB,EAAE,KAAU;UAC9B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;OAC3C;MAED,GAAG,CAAC,QAAgB;UAClB,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;OAChD;MAED,QAAQ;UACN,MAAM,GAAG,GAAG,EAAE,CAAC;UAEf,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE;cAClC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;WACvB;UAED,OAAO,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;OACrB;GACF;;QCxBY,WAAW;MAKtB,YAAY,IAAY,EAAE,IAAgC;UACxD,IAAI,CAAC,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC;UAC/B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;OAClB;MAED,GAAG,CAAC,IAAO;UACT,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;cACpB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;WAChC,CAAC,CAAC;OACJ;MAED,GAAG,CAAC,IAAO;UACT,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;OACnE;GACF;;;;;;;;;;;;"}